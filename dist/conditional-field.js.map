{"version":3,"sources":["conditional-field.js"],"names":["ConditionalField","args","$control","$","control","length","inputType","getInputType","setVisible","inputValue","onChangeBound","onChange","bind","on","e","value","controlValue","visibility","toString","show","hide","is","filter","val","off"],"mappings":";;;;;;IAAMA,gB;AACJ,4BAAYC,IAAZ,EAAiB;AAAA;;AACf,SAAKC,QAAL,GAAgBC,EAAEF,KAAKG,OAAP,CAAhB;;AAEA,QAAG,KAAKF,QAAL,CAAcG,MAAd,IAAwB,CAA3B,EAA8B;;AAE9B,SAAKJ,IAAL,GAAYA,IAAZ;AACA,SAAKK,SAAL,GAAiB,KAAKC,YAAL,EAAjB;AACA,SAAKC,UAAL,CAAgB,KAAKC,UAAL,EAAhB;;AAEA,SAAKC,aAAL,GAAqB,KAAKC,QAAL,CAAcC,IAAd,CAAmB,IAAnB,CAArB;AACA,SAAKV,QAAL,CAAcW,EAAd,CAAiB,QAAjB,EAA2B,KAAKH,aAAhC;AACD;;;;6BAEQI,C,EAAG;AACV,UAAIC,QAAQ,KAAKN,UAAL,EAAZ;AACA,WAAKD,UAAL,CAAgBO,KAAhB;AACD;;;+BAEUA,K,EAAO;AAChB,WAAI,IAAIC,YAAR,IAAwB,KAAKf,IAAL,CAAUgB,UAAlC,EAA6C;AAC3C,YAAGF,MAAMG,QAAN,OAAqBF,aAAaE,QAAb,EAAxB,EAAgD;AAC9Cf,YAAE,KAAKF,IAAL,CAAUgB,UAAV,CAAqBD,YAArB,CAAF,EAAsCG,IAAtC;AACD,SAFD,MAEK;AACHhB,YAAE,KAAKF,IAAL,CAAUgB,UAAV,CAAqBD,YAArB,CAAF,EAAsCI,IAAtC;AACD;AACF;AACF;;;mCAEc;AACb,UAAG,KAAKlB,QAAL,CAAcmB,EAAd,CAAiB,QAAjB,CAAH,EAA8B;AAC5B,eAAO,QAAP;AACD,OAFD,MAEM,IAAG,KAAKnB,QAAL,CAAcmB,EAAd,CAAiB,QAAjB,CAAH,EAA8B;AAClC,eAAO,OAAP;AACD,OAFK,MAEA,IAAG,KAAKnB,QAAL,CAAcmB,EAAd,CAAiB,WAAjB,CAAH,EAAiC;AACrC,eAAO,UAAP;AACD;AACF;;;iCAEY;AACX,UAAIN,QAAQ,EAAZ;AACA,cAAO,KAAKT,SAAZ;AACE,aAAK,UAAL;AACES,kBAAQ,KAAKb,QAAL,CAAcmB,EAAd,CAAiB,UAAjB,IAA+B,IAA/B,GAAsC,KAA9C;AACA;AACF,aAAK,OAAL;AACEN,kBAAQ,KAAKb,QAAL,CAAcoB,MAAd,CAAqB,UAArB,EAAiCC,GAAjC,EAAR;AACA;AACF;AACER,kBAAQ,KAAKb,QAAL,CAAcqB,GAAd,EAAR;AARJ;AAUA,aAAOR,KAAP;AACD;;;8BAES;AACR,WAAKb,QAAL,CAAcsB,GAAd,CAAkB,QAAlB,EAA4B,KAAKd,aAAjC;AACD","file":"conditional-field.js","sourcesContent":["class ConditionalField {\n  constructor(args){\n    this.$control = $(args.control);\n\n    if(this.$control.length <= 0) return;\n\n    this.args = args;\n    this.inputType = this.getInputType();\n    this.setVisible(this.inputValue());\n\n    this.onChangeBound = this.onChange.bind(this);\n    this.$control.on('change', this.onChangeBound);\n  }\n\n  onChange(e) {\n    let value = this.inputValue();\n    this.setVisible(value);\n  }\n\n  setVisible(value) {\n    for(let controlValue in this.args.visibility){\n      if(value.toString() === controlValue.toString()){\n        $(this.args.visibility[controlValue]).show();\n      }else{\n        $(this.args.visibility[controlValue]).hide();\n      }\n    }\n  }\n\n  getInputType() {\n    if(this.$control.is('select')){\n      return 'select';\n    }else if(this.$control.is(':radio')){\n      return 'radio';\n    }else if(this.$control.is(':checkbox')){\n      return 'checkbox';\n    }\n  }\n\n  inputValue() {\n    let value = '';\n    switch(this.inputType){\n      case 'checkbox':\n        value = this.$control.is(':checked') ? 'on' : 'off';\n        break;\n      case 'radio':\n        value = this.$control.filter(':checked').val();\n        break;\n      default:\n        value = this.$control.val();\n    }\n    return value;\n  }\n\n  destroy() {\n    this.$control.off('change', this.onChangeBound);\n  }\n}"]}